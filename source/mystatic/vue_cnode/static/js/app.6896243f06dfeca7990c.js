webpackJsonp([2,1],[function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var n=o(9),s=i(n),a=o(106),r=i(a),c=o(98),l=i(c),u=o(105),p=i(u),d=o(21),f=i(d),v=o(20),h=i(v);r["default"].use(p["default"]),(0,s["default"])(h["default"]).forEach(function(e){r["default"].filter(e,h["default"][e])});var m=new p["default"];(0,f["default"])(m),m.beforeEach(function(e){if(e.to.auth)if(localStorage.user_id)e.next();else{var t=encodeURIComponent(e.to.path);e.redirect("/login?redirect="+t)}else e.next()}),m.start(l["default"],"app")},function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(83),s=i(n),a="https://cnodejs.org/api/v1/";t["default"]={topic:{getTopicList:function(e,t){(0,s["default"])({url:a+"topics",method:"get",data:{page:e.page,tab:e.tab,limit:e.limit,mdrender:e.mdrender},success:function(e){t(e)},error:function(e){console.log(e)}})},getTopic:function(e,t){(0,s["default"])({url:a+"topic/"+e._id,method:"get",data:{mdrender:e.mdrender,accesstoken:e.accesstoken},success:function(e){t(e)},error:function(e){console.log(e)}})},newTopic:function(e,t){(0,s["default"])({url:a+"topics",method:"post",data:{accesstoken:e.accesstoken,title:e.title,tab:e.tab,content:e.content},success:function(e){t(e)},error:function(e){console.log(e)}})}},collect:{topicCollect:function(e,t){(0,s["default"])({url:a+"topic_collect/collect",method:"get",data:{accesstoken:e.accesstoken,topic_id:e.topic_id},callback:function(o){t(e)},error:function(e){console.log(e)}})},topicDeCollect:function(e,t){(0,s["default"])({url:a+"topic_collect/de_collect",method:"post",data:{accesstoken:e.accesstoken,topic_id:e.topic_id},success:function(e){t(e)},error:function(e){console.log(e)}})},getUserCollect:function(e,t){(0,s["default"])({url:a+"topic_collect/"+e.loginname,method:"get",success:function(e){t(e)},error:function(e){console.log(e)}})}},reply:{newReply:function(e,t){(0,s["default"])({url:a+"topic/"+e.topic_id+"/replies",method:"post",data:{accesstoken:e.accesstoken,content:e.content,reply_id:e.reply_id},success:function(e){t(e)},error:function(e){console.log(e)}})},ups:function(e,t){(0,s["default"])({url:a+"reply/"+e.reply_id+"/ups",method:"post",data:{accesstoken:e.accesstoken},success:function(e){t(e)},error:function(e){console.log(e)}})}},user:{getUserInfo:function(e,t){(0,s["default"])({url:a+"user/"+e.loginname,method:"get",success:function(e){t(e)},error:function(e){console.log(e)}})},validateAccessToken:function(e,t){(0,s["default"])({url:a+"accesstoken",method:"post",data:{accesstoken:e.accesstoken},success:function(e){t(e)},error:function(e){console.log(e)}})}},message:{getMessage:function(e,t){(0,s["default"])({url:a+"messages",method:"get",data:{accesstoken:e.accesstoken,mdrender:e.mdrender},success:function(e){t(e)},error:function(e){console.log(e)}})},unreadCount:function(e,t){(0,s["default"])({url:a+"message/count",method:"get",data:{accesstoken:e.accesstoken},success:function(e){t(e)},error:function(e){console.log(e)}})},markAll:function(e,t){(0,s["default"])({url:a+"message/mark_all",method:"post",data:{accesstoken:e.accesstoken},success:function(e){t(e)},error:function(e){console.log(e)}})}}}},function(e,t,o){var i,n;o(75),o(66),i=o(28),n=o(90),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,o){var i,n;o(71),i=o(30),n=o(86),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},,,,,,,,,,,function(e,t,o){var i,n;o(81),i=o(29),n=o(96),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,o){var i,n;o(79),i=o(31),n=o(94),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,o){var i,n;o(82),i=o(32),n=o(97),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,o){var i,n;o(80),i=o(33),n=o(95),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,o){var i,n;o(74),o(69),i=o(36),n=o(89),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},,function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(22),s=i(n);t["default"]={getLastTimeStr:function(e,t){return t?s["default"].MillisecondToDate(new Date-new Date(e)):s["default"].fmtDate(new Date(e),"yyyy-MM-dd hh:mm")}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){e.map({"/":{name:"list",component:function(e){!function(){var t=[o(3)];e.apply(null,t)}.call(this)}},"*":{component:function(e){!function(){var t=[o(3)];e.apply(null,t)}.call(this)}},"/list":{name:"list",component:function(e){!function(){var t=[o(3)];e.apply(null,t)}.call(this)}},"/topic/:id":{name:"topic",component:function(e){!function(){var t=[o(18)];e.apply(null,t)}.call(this)}},"/message":{name:" message",component:function(e){!function(){var t=[o(16)];e.apply(null,t)}.call(this)},auth:!0},"/about":{name:" about",component:function(e){!function(){var t=[o(14)];e.apply(null,t)}.call(this)}},"/perinfo/:loginname":{name:" perinfo",component:function(e){o.e(0,function(t){var o=[t(104)];e.apply(null,o)}.bind(this))},auth:!0},"/login":{name:" login",component:function(e){!function(){var t=[o(15)];e.apply(null,t)}.call(this)}},"/newtopic":{name:" newtopic",component:function(e){!function(){var t=[o(17)];e.apply(null,t)}.call(this)},auth:!0}})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={fmtDate:function(e,t){var o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in o)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?o[i]:("00"+o[i]).substr((""+o[i]).length)));return t},MillisecondToDate:function(e){var t=parseFloat(e)/1e3,o="";return null!=t&&""!=t&&(o=t>60&&t<3600?parseInt(t/60)+" 分钟前":t>=3600&&t<86400?parseInt(t/3600)+" 小时前":t>=86400&&t<2592e3?parseInt(t/86400)+" 天前":t>=2592e3&&t<31536e3?parseInt(t/2592e3)+" 个月前":t>=31536e3?parseInt(t/31536e3)+" 年前":parseInt(t)+" 秒前"),o}}},function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),s=i(n),a=o(100),r=i(a),c=o(102),l=i(c),u=o(3),p=i(u),d=o(18),f=i(d),v=o(14),h=i(v),m=o(16),_=i(m),g=o(103),b=i(g),y=o(17),x=i(y),w=o(15),S=i(w),k=o(99),M=i(k);t["default"]={components:{vheader:r["default"],vsidebar:l["default"],vlist:p["default"],vpost:f["default"],vabout:h["default"],vmessage:_["default"],vperinfo:b["default"],vnewpost:x["default"],vlogin:S["default"],vconfirm:M["default"]},data:function(){return{title:"",isShowSidebar:!1,currentView:"vlist",postId:"",tab:"all",isShowConfirm:!1,isLogin:!!localStorage.loginname,loginname:localStorage.loginname,avatar_url:localStorage.avatar_url,accesstoken:localStorage.accesstoken,unreadCount:0}},created:function(){var e=this,t="";this.getUnreadCount(),this.$route.router.afterEach(function(o){var i=o.to,n=i.name.trim();if("list"===n)switch(i.query.tab){case"all":t="全部";break;case"good":t="精华";break;case"share":t="分享";break;case"ask":t="问答";break;case"job":t="招聘";break;default:t="全部"}else"message"===n?t="消息":"about"===n?t="关于":"perinfo"===n?t="个人信息":"login"===n?t="登录":"newtopic"===n&&(t="发帖");e.title=t})},watch:{isShowSidebar:function(){this.isShowSidebar?document.body.style.position="fixed":setTimeout(function(){document.body.style.position="static"},300)}},methods:{showConfirm:function(){this.isShowConfirm=!this.isShowConfirm},getUnreadCount:function(){var e=this;s["default"].message.unreadCount({accesstoken:this.accesstoken},function(t){e.unreadCount=t.data})}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{isShowConfirm:{type:Boolean,required:!0,twoWay:!0},isShowSidebar:{type:Boolean,required:!0,twoWay:!0},isLogin:{type:Boolean,required:!0,twoWay:!0}},watch:{isShowConfirm:function(){console.log("confirm")}},methods:{hide:function(){this.isShowConfirm=!1},confirmHandler:function(){localStorage.loginname=localStorage.avatar_url=localStorage.user_id=localStorage.accesstoken="",this.isShowConfirm=!1,this.isShowSidebar=!1,this.isLogin=!1,this.$route.router.go({path:"/list"})}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{}},props:{title:{type:String,"default":"CNode.js",required:!0},isShowSidebar:{type:Boolean,"default":!1,required:!0,twoway:!0}},methods:{toggleSidebar:function(){this.isShowSidebar=!0}}}},function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),s=i(n),a=o(2),r=i(a);t["default"]={components:{vuserpanel:r["default"]},data:function(){return{replyContent:""}},props:{replies:{type:Array,required:!0},accesstoken:{type:String,required:!0},topicId:{type:String,required:!0}},methods:{toggleReply:function(e){var t=this.replies[e];this.replies.forEach(function(t,o){o!==e&&(t.isShowReply=!1)}),t.isShowReply=!t.isShowReply},replyToComment:function(e){var t=this,o=this.replies[e].id;s["default"].reply.newReply({accesstoken:this.accesstoken,topic_id:this.topicId,content:this.replyContent,reply_id:o},function(e){e.success&&t.$parent.getTopic(t.topicId)})},toggleUps:function(e){var t=this,o=this.replies[e];s["default"].reply.ups({reply_id:o.id,accesstoken:this.accesstoken},function(e){if(e.success)if("down"===e.action){var i=o.ups.indexOf(t.topicId);o.ups.splice(i,1)}else o.ups.push(t.topicId)})}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{tab:this.$route.query.tab,itemSet:[[{icon:"&#xe602;",name:"全部",view:"list",tab:"all"},{icon:"&#xe605;",name:"精华",view:"list",tab:"good"},{icon:"&#xe600;",name:"分享",view:"list",tab:"share"},{icon:"&#xe608;",name:"问答",view:"list",tab:"ask"},{icon:"&#xe606;",name:"招聘",view:"list",tab:"job"}],[{icon:"&#xe607;",name:"消息",view:"message"},{icon:"&#xe608;",name:"关于",view:"about"}]]}},props:{isShowSidebar:{type:Boolean,required:!0,twoWay:!0},isShowConfirm:{type:Boolean,required:!0,twoWay:!0},isLogin:{type:Boolean,required:!0,twoWay:!0},avatar_url:{type:String,required:!0,twoWay:!0},loginname:{type:String,required:!0,twoWay:!0},title:{type:String,required:!0,twoWay:!0},unreadCount:{type:Number,required:!0,twoWay:!0,"default":0}},methods:{hide:function(){this.isShowSidebar=!1},change:function(e){void 0==e&&"logout"==event.currentTarget.dataset.view&&(this.isShowConfirm=!0),this.tab=e},goEnter:function(){var e="",t=this.$route.query.redirect;"login"===this.$route.path||t?this.isShowSidebar=!1:(e="/login?redirect="+encodeURIComponent(this.$route.path),this.$route.router.go(e))},goUser:function(){this.$route.router.go({path:"/perinfo/"+this.loginname}),this.hide()},logout:function(e){this.isShowConfirm=!0}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{avatar:{type:String,required:!0}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{isShowSidebar:{type:Boolean,twoway:!0}},created:function(){this.isShowSidebar=!1}}},function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),s=i(n),a=o(2),r=i(a);t["default"]={components:{vuserpanel:r["default"]},data:function(){return{topics:[],page:1,limit:30,tab:"all",isFirstLoad:!0,isLoading:!1}},props:{isShowSidebar:{required:!0,twoWay:!0}},ready:function(){},route:{data:function(e){var t=e.to.query;console.log(e.to),"list"===e.to.name&&(this.limit=30,this.tab=t.tab,this.getTopicList({tab:this.tab}),this.isShowSidebar=!1)}},methods:{tabToName:function(e){var t="";if(1==e.good)t="精华";else switch(e.tab){case"ask":t="问答";break;case"share":t="分享";break;case"job":t="招聘";break;default:t="未知"}return t},getTopicList:function(e){var t=this;void 0==e&&(e={}),s["default"].topic.getTopicList({tab:e.tab||this.tab,page:e.page||this.page,limit:e.limit||this.limit},function(e){e.success&&(t.topics=e.data,t.isLoading=!1,t.isFirstLoad&&(t.isFirstLoad=!1))})},getMoreTopic:function(){this.isLoading||(this.isLoading=!0,this.limit+=30,this.getTopicList({tab:this.tab}))}}}},function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),s=i(n);t["default"]={data:function(){return{accessTokenInput:""}},props:{isShowSidebar:{type:Boolean,required:!0,twoWay:!0},isLogin:{type:Boolean,required:!0,twoWay:!0},loginname:{type:String,required:!0,twoWay:!0},avatar_url:{type:String,required:!0,twoWay:!0},accesstoken:{type:String,required:!0,twoWay:!0}},created:function(){this.isShowSidebar=!1},methods:{signIn:function(){var e=this;this.accesstoken=this.accessTokenInput.trim(),this.accesstoken.length>0&&s["default"].user.validateAccessToken({accesstoken:this.accessTokenInput},function(t){if(t.success){console.log(t),localStorage.loginname=e.loginname=t.loginname,localStorage.avatar_url=e.avatar_url=t.avatar_url,localStorage.user_id=t.id,localStorage.accesstoken=e.accesstoken=e.accessTokenInput,e.isLogin=!0;var o=decodeURIComponent(e.$route.query.redirect||"/");e.$route.router.go(o)}})}}}},function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(9),s=i(n),a=o(1),r=i(a),c=o(2),l=i(c);t["default"]={components:{vuserpanel:l["default"]},data:function(){return{activeItem:0,allMessages:[]}},props:{isShowSidebar:{type:Boolean,required:!0,twoway:!0},accesstoken:{type:String,required:!0},unreadCount:{type:Number,required:!0,twoWay:!0,"default":0}},created:function(){this.getMessages(),this.$root.getUnreadCount(),this.isShowSidebar=!1},methods:{changeItem:function(e){this.activeItem=e},getMessages:function(){var e=this;r["default"].message.getMessage({accesstoken:this.accesstoken},function(t){(0,s["default"])(t.data).forEach(function(o,i){console.log(i),e.allMessages.$set(i,t.data[o])})})},makeAllRead:function(){var e=this;r["default"].message.markAll({accesstoken:this.accesstoken},function(t){t.success&&(e.unreadCount=0,e.getMessages())})}}}},function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),s=i(n);t["default"]={data:function(){return{tabSelected:"",tabOptions:[{text:"请选择",value:""},{text:"分享",value:"share"},{text:"问答",value:"ask"},{text:"招聘",value:"job"}],postTitle:"",postContent:""}},props:{isShowSidebar:{type:Boolean,required:!0,twoway:!0},accesstoken:{type:String,required:!0}},created:function(){this.isShowSidebar=!1},methods:{newPost:function(){var e=this;""===this.tabSelected?alert("未选择主题类型"):this.postTitle.trim().length<10?alert("标题小于10个字"):this.postContent.trim().length<=0?alert("主题内容为空"):s["default"].topic.newTopic({accesstoken:this.accesstoken,title:this.postTitle,content:this.postContent,tab:this.tabSelected},function(t){console.log(t),e.$route.router.go({name:"list"})})}}}},function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),s=i(n),a=o(2),r=i(a);t["default"]={components:{vuserpanel:r["default"]},data:function(){return{activeItem:0,userInfo:{},tabDataSet:[]}},props:{isShowSidebar:{type:Boolean,required:!0,twoway:!0},loginname:{type:String,required:!0}},created:function(){this.isShowSidebar=!1,console.log(this.$route.params.loginname),this.getUserInfo()},route:{data:function(e){this.getUserInfo()}},methods:{changeItem:function(e){this.activeItem=e},getUserInfo:function(){var e=this;s["default"].user.getUserInfo({loginname:this.$route.params.loginname||this.loginname},function(t){e.userInfo=t.data,e.tabDataSet.$set(0,t.data.recent_topics),e.tabDataSet.$set(1,t.data.recent_replies),console.log(t.data)})}}}},,function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),s=i(n),a=o(101),r=i(a),c=o(2),l=i(c);t["default"]={components:{vreplylist:r["default"],vuserpanel:l["default"]},data:function(){return{topic:{},replyContent:""}},props:{accesstoken:{type:String,reuqired:!0,twoWay:!0}},created:function(){},watch:{topicId:function(){}},route:{data:function(e){var t=e.to.params.id;this.getTopic(t)}},methods:{tabToName:function(e){var t="";switch(e){case"good":t="置顶";break;case"ask":t="问答";break;case"share":t="分享";break;case"job":t="招聘";break;default:t="未能识别"}return t},getTopic:function(e){var t=this;s["default"].topic.getTopic({_id:e},function(e){e.data.replies.forEach(function(e,t){e.isShowReply=!1}),t.topic=e.data,console.log(t.topic)})},replyHandler:function(){var e=this;s["default"].reply.newReply({accesstoken:this.accesstoken,topic_id:this.topicId,content:this.replyContent},function(t){t.success&&e.getTopic()})}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){e.exports=" <div id=app :class=\"{ 'offcanvas-page': isShowSidebar, 'show-offcanvas': isShowSidebar}\"> <vsidebar :is-show-sidebar.sync=isShowSidebar :is-show-confirm.sync=isShowConfirm :is-login.sync=isLogin :title.sync=title :avatar_url.sync=avatar_url :loginname.sync=loginname :unread-count.sync=unreadCount></vsidebar> <main> <vheader :title=title :is-show-sidebar.sync=isShowSidebar :show.sync=showConfirm></vheader> <div id=content> <router-view :is-show-sidebar.sync=isShowSidebar :is-login.sync=isLogin :avatar_url.sync=avatar_url :loginname.sync=loginname :accesstoken.sync=accesstoken :unread-count.sync=unreadCount></router-view> </div> </main> <vconfirm :is-show-confirm.sync=isShowConfirm :is-show-sidebar.sync=isShowSidebar :is-login.sync=isLogin> <h3 slot=body>确认注销当前账号吗？</h3> </vconfirm> </div> "},function(e,t){e.exports=' <div class=confirm v-show=isShowConfirm transition=confirm _v-07f8688c=""> <div class=confirm-dialog _v-07f8688c=""> <div class=confirm-body _v-07f8688c=""> <slot name=body _v-07f8688c=""></slot> </div> <div class="confirm-footer clearfix" _v-07f8688c=""> <slot name=footer _v-07f8688c=""> <div class=cancelBtn @click=hide _v-07f8688c="">取消</div> <div class=confirmBtn @click=confirmHandler _v-07f8688c="">确认</div> </slot> </div> </div> </div> '},function(e,t){e.exports=' <div class=topic-list :is-show-sidebar.sync=false _v-083802e0=""> <ul _v-083802e0=""> <li v-for="topic in topics" :class="topic.good ? \'top\' : (topic.tab || \'unknow\')" :id=topic.id v-link="{name: \'topic\', params: {id: topic.id}}" _v-083802e0=""> <h3 class=title _v-083802e0=""><span class=tab _v-083802e0="">{{tabToName(topic)}}</span>{{topic.title}}</h3> <div class=info _v-083802e0=""> <vuserpanel :avatar=topic.author.avatar_url _v-083802e0=""> <p slot=one v-link="{path: \'/perinfo/\' + topic.author.loginname}" _v-083802e0="">{{topic.author.loginname}}</p> <p slot=two _v-083802e0="">{{topic.create_at | getLastTimeStr true}}</p> </vuserpanel> <div class=right _v-083802e0=""> <p _v-083802e0=""><strong title=回复数 _v-083802e0="">{{topic.reply_count}}</strong> / <span title=阅读数 _v-083802e0="">{{topic.visit_count}}</span></p> <p class=latest_reply_time _v-083802e0="">{{topic.last_reply_at | getLastTimeStr true}}</p> </div> </div> </li> </ul> </div> <button v-if=!isFirstLoad type=button class=loadMoreBtn @click=getMoreTopic _v-083802e0="">{{isLoading ? "正在加载" :"加载更多"}}</button> '},function(e,t){e.exports=' <div class=reply-list _v-15425322=""> <div class=header _v-15425322=""> <h4 _v-15425322="">评论 已有<span _v-15425322=""> {{replies.length}} </span>回复</h4> </div> <ul v-if="replies.length > 0" _v-15425322=""> <li v-for="reply in replies" _v-15425322=""> <div class=user _v-15425322=""> <vuserpanel :avatar=reply.author.avatar_url _v-15425322=""> <p slot=one _v-15425322="">{{reply.author.loginname}}</p> <p slot=two _v-15425322="">回复时间：{{reply.create_at | getLastTimeStr true}}</p> </vuserpanel> <div class=right _v-15425322=""> <div class=like-btn @click=toggleUps($index) _v-15425322=""> <i class=iconfont _v-15425322=""></i>{{reply.ups.length}} </div> <div class=reply-btn @click=toggleReply($index) _v-15425322=""> <i class=iconfont _v-15425322=""></i> </div> </div> </div> <div class=reply-content _v-15425322=""> {{{reply.content}}} </div> <div class=reply-form v-if=reply.isShowReply _v-15425322=""> <form @submit.prevent=replyToComment($index) _v-15425322=""> <textarea v-model=replyContent _v-15425322="">@{{reply.author.loginname}} </textarea> <button type=submit _v-15425322="">确定</button> </form> </div> </li> </ul> </div> '},function(e,t){e.exports=' <header _v-32f32003=""> <div class=navbar-toggle id=show-offcanvas @click=toggleSidebar _v-32f32003=""> <i class=iconfont _v-32f32003=""></i> </div> <div class=send-btn title=发帖 v-link="{path: \'/newtopic\'}" _v-32f32003=""> <i class=iconfont _v-32f32003=""></i> </div> <h2 _v-32f32003="">{{title}}</h2> </header> '},function(e,t){e.exports=' <div _v-394efda6=""> <div class=topic-header _v-394efda6=""> <h3 _v-394efda6="">{{topic.title}}</h3> <vuserpanel :avatar=topic.author.avatar_url _v-394efda6=""> <p slot=one _v-394efda6="">{{topic.author.loginname}}</p> <p slot=two _v-394efda6="">发布时间：{{topic.create_at | getLastTimeStr true}}</p> </vuserpanel> <div class=right _v-394efda6=""> <p class="tab top" _v-394efda6="">{{tabToName(topic.tab)}}</p> <p _v-394efda6="">{{topic.visit_count}}次浏览</p> </div> </div> <div class=topic-content _v-394efda6=""> {{{topic.content}}} </div> <vreplylist :replies=topic.replies :topic-id=topic.id :accesstoken=accesstoken _v-394efda6=""></vreplylist> <div _v-394efda6=""> <form @submit.prevent=replyHandler class=reply-form _v-394efda6=""> <textarea v-model=replyContent _v-394efda6=""></textarea> <button type=submit _v-394efda6="">回复</button> </form> </div> </div> '},function(e,t){e.exports=' <div class=userPanel _v-5714e4f3=""> <img :src=avatar alt="" _v-5714e4f3=""> <div _v-5714e4f3=""> <slot name=one _v-5714e4f3=""></slot> <slot name=two _v-5714e4f3=""></slot> </div> </div> '},,function(e,t){e.exports=' <div class=offcanvas @click=hide _v-61fd7b54=""> <nav class=offcanvas-bar @click.stop="" _v-61fd7b54=""> <div class=user _v-61fd7b54=""> <div v-if=isLogin @click=goUser _v-61fd7b54=""> <img :src=avatar_url alt="" _v-61fd7b54=""> <p _v-61fd7b54="">Jchehe</p> </div> <a v-else="" @click=goEnter class=login _v-61fd7b54=""><i class=iconfont _v-61fd7b54=""></i>登录</a> </div> <ul v-for="(index, items) in itemSet" _v-61fd7b54=""> <li v-for="item in items" v-link="{path: \'/\'+item.view, query:{\'tab\': item.tab}}" :class="{\'active\': item.tab == tab, \'tab\': item.tab, \'unread\': (item.view === \'message\' &amp;&amp; unreadCount > 0)}" @click=change(item.tab) _v-61fd7b54=""> <a href=javascript:; _v-61fd7b54=""> <i class=iconfont _v-61fd7b54="">{{{item.icon}}}</i> {{item.name}} <span class=unreadTip v-if="item.view===\'message\' &amp;&amp; unreadCount !== 0" _v-61fd7b54="">( {{unreadCount}} )</span> </a> </li> <li v-if="isLogin &amp;&amp; index==itemSet.length -1" _v-61fd7b54=""><a @click=logout _v-61fd7b54=""><i class=iconfont _v-61fd7b54=""></i> 注销</a></li> </ul> <div class=logo _v-61fd7b54=""> <img src=//o4j806krb.qnssl.com/public/images/cnodejs_light.svg alt="" _v-61fd7b54=""> </div> </nav> </div> '},function(e,t){e.exports=' <div _v-622047e9=""> <div class=user-info _v-622047e9=""> <img :src=userInfo.avatar_url _v-622047e9=""> <p _v-622047e9="">{{userInfo.loginname}}</p> <div class=right _v-622047e9=""> <p _v-622047e9="">注册时间：{{userInfo.create_at | getLastTimeStr true}}</p> <p _v-622047e9="">积分：{{userInfo.score}}</p> </div> </div> </div> <div class=tab _v-622047e9=""> <ul class=tab-nav _v-622047e9=""> <li v-for="tabItem in tabDataSet" :class="{\'active\': activeItem === $index}" @click=changeItem($index) _v-622047e9="">{{ $index === 0 ? "创建的话题" : "参与的话题"}}</li> </ul> <div class=tab-content _v-622047e9=""> <div v-for="tabData in tabDataSet" class=tabpanel :class="{\'active\': activeItem === $index}" _v-622047e9=""> <ul _v-622047e9=""> <li v-for="item in tabData" _v-622047e9=""> <div class=header _v-622047e9=""> <vuserpanel :avatar=item.author.avatar_url _v-622047e9=""> <p slot=one v-link="{path: \'/perinfo/\' + item.author.loginname}" _v-622047e9="">{{item.author.loginname}}</p> <p slot=two v-link="{path: \'/topic/\' + item.id}" _v-622047e9="">{{item.title}}</p> </vuserpanel> <div class=right _v-622047e9=""> <p class=date _v-622047e9="">{{item.last_reply_at | getLastTimeStr true}}</p> </div> </div> </li> </ul> </div> </div> </div> '},function(e,t){e.exports=' <form @submit.prevent=signIn _v-65b7f667=""> <div class=form-group _v-65b7f667=""> <input type=text v-model=accessTokenInput placeholder=请输入access_token _v-65b7f667=""> </div> <button type=submit _v-65b7f667="">登录</button> </form> '},function(e,t){e.exports=' <form @submit.prevent=newPost _v-6851f7e1=""> <div class=form-group _v-6851f7e1=""> <label _v-6851f7e1=""> 选择板块： <select v-model=tabSelected _v-6851f7e1=""> <option v-for="tabOpt in tabOptions" :value=tabOpt.value _v-6851f7e1="">{{tabOpt.text}}</option> </select> </label> </div> <div class=form-group _v-6851f7e1=""> <input v-model=postTitle type=text name=title placeholder=标题，字数10字以上 _v-6851f7e1=""> </div> <div class=form-group _v-6851f7e1=""> <textarea v-model=postContent placeholder=支持Markdown语法 _v-6851f7e1=""></textarea> </div> <button type=submit _v-6851f7e1="">发布</button> </form> '},function(e,t){e.exports=' <ul _v-7c58788b=""> <li _v-7c58788b=""> <h4 _v-7c58788b="">关于项目</h4> <p _v-7c58788b="">该项目是我出于学习实践的目的，采用Vue.js，并基于CNodejs.org论坛的API编写的web app。</p> </li> <li _v-7c58788b=""> <h4 _v-7c58788b="">源码地址</h4> <p _v-7c58788b=""><a href=https://git.coding.net/Jcc/vue_blog.git _v-7c58788b="">https://git.coding.net/Jcc/vue_blog.git</a></p> </li> <li _v-7c58788b=""> <h4 _v-7c58788b="">意见反馈</h4> <p _v-7c58788b=""><a href=https://coding.net/u/Jcc/p/vue_blog/topic _v-7c58788b="">发表意见或者提需求</a></p> </li> <li _v-7c58788b=""> <h4 _v-7c58788b="">当前版本</h4> <p _v-7c58788b="">V1.0 beta</p> </li> </ul> '},function(e,t){e.exports=' <div class=tab _v-d7c232f6=""> <ul class=tab-nav _v-d7c232f6=""> <li v-for="messageType in allMessages" :class="{\'active\': activeItem === $index}" @click=changeItem($index) _v-d7c232f6="">{{ $index === 0 ? "已读信息" : "未读信息"}} <span v-if="$index===1 &amp;&amp; unreadCount > 0" _v-d7c232f6="">( {{unreadCount}} )</span></li> </ul> <div class=tab-content _v-d7c232f6=""> <div class=tabpanel v-for="messageType in allMessages" :class="{\'active\': activeItem === $index}" _v-d7c232f6=""> <button v-if="$index===1 &amp;&amp; unreadCount > 0" @click=makeAllRead _v-d7c232f6="">标为全部已读</button> <ul _v-d7c232f6=""> <li v-for="message in messageType" _v-d7c232f6=""> <div class=header _v-d7c232f6=""> <vuserpanel :avatar=message.author.avatar_url _v-d7c232f6=""> <p slot=one v-link="{path:\'/perinfo/\'+message.author.loginname}" _v-d7c232f6="">{{message.author.loginname}}</p> <p slot=two _v-d7c232f6="">在回复中@了你</p> </vuserpanel> <div class=right _v-d7c232f6=""> <p _v-d7c232f6="">{{message.reply.create_at | getLastTimeStr true}}</p> </div> </div> <div class=content _v-d7c232f6=""> <div class="" _v-d7c232f6=""> {{{message.reply.content}}} </div> <div class=related-topic v-link="{path: \'/topic/\' + message.topic.id}" _v-d7c232f6=""> <h4 _v-d7c232f6="">{{message.topic.title}}</h4> </div> </div> </li> </ul> </div> </div> </div> '},function(e,t,o){var i,n;o(65),i=o(23),n=o(84),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,o){var i,n;o(70),i=o(24),n=o(85),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,o){var i,n;o(73),i=o(25),n=o(88),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,o){var i,n;o(72),i=o(26),n=o(87),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,o){var i,n;o(77),i=o(27),n=o(92),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,o){var i,n;o(78),o(67),i=o(34),n=o(93),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},,,,function(e,t){}]);
//# sourceMappingURL=app.6896243f06dfeca7990c.js.map